[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.apache.kylin:kylin-core-common:jar:4.0.3-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.spark:spark-sql_${scala.binary.version}:jar -> duplicate declaration of version ${spark.version} @ org.apache.kylin:kylin:4.0.3-SNAPSHOT, /Users/carolsong/kylin/pom.xml, line 1109, column 19
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.spark:spark-hive_${scala.binary.version}:jar -> duplicate declaration of version ${spark.version} @ org.apache.kylin:kylin:4.0.3-SNAPSHOT, /Users/carolsong/kylin/pom.xml, line 1115, column 19
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.apache.kylin:kylin-spark-metadata:jar:4.0.3-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:build-helper-maven-plugin is missing. @ line 51, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.apache.kylin:kylin-spark-common:jar:4.0.3-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:build-helper-maven-plugin is missing. @ line 65, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.apache.kylin:kylin-spark-query:jar:4.0.3-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:build-helper-maven-plugin is missing. @ line 144, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.apache.kylin:kylin-soft-affinity-cache:jar:4.0.3-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:build-helper-maven-plugin is missing. @ line 62, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.apache.kylin:kylin:pom:4.0.3-SNAPSHOT
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.spark:spark-sql_${scala.binary.version}:jar -> duplicate declaration of version ${spark.version} @ line 1109, column 19
[WARNING] 'dependencyManagement.dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.spark:spark-hive_${scala.binary.version}:jar -> duplicate declaration of version ${spark.version} @ line 1115, column 19
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] 
[INFO] ------------------< org.apache.kylin:kylin-core-job >-------------------
[INFO] Building Apache Kylin - Core Job 4.0.3-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4.1:enforce (enforce-maven-version) @ kylin-core-job ---
[INFO] 
[INFO] --- maven-checkstyle-plugin:2.17:check (check-style) @ kylin-core-job ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.2:prepare-agent (pre-test) @ kylin-core-job ---
[INFO] surefireArgLine set to -javaagent:/Users/carolsong/.m2/repository/org/jacoco/org.jacoco.agent/0.8.2/org.jacoco.agent-0.8.2-runtime.jar=destfile=/Users/carolsong/kylin/core-job/../target/jacoco.exec,append=true
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (process-resource-bundles) @ kylin-core-job ---
[INFO] 
[INFO] --- maven-resources-plugin:3.0.1:resources (default-resources) @ kylin-core-job ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ kylin-core-job ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-dependency-plugin:2.10:copy (copy-jamm) @ kylin-core-job ---
[INFO] Configured Artifact: com.github.jbellis:jamm:?:jar
[INFO] com.github.jbellis:jamm:0.3.1:jar already exists in /Users/carolsong/kylin/core-job/target/test-classes
[INFO] 
[INFO] --- maven-resources-plugin:3.0.1:testResources (default-testResources) @ kylin-core-job ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/carolsong/kylin/core-job/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ kylin-core-job ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.21.0:test (default-test) @ kylin-core-job ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLockTest
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/Users/carolsong/.m2/repository/org/slf4j/slf4j-log4j12/1.7.30/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/Users/carolsong/.m2/repository/org/slf4j/slf4j-reload4j/1.7.36/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-12-02 01:29:01,734 INFO  [main] util.ClassUtil:44 : Adding path /Users/carolsong/kylin/core-job/../examples/test_case_data/sandbox to class path
2022-12-02 01:29:03,536 INFO  [main] common.KylinConfig:189 : Destroy KylinConfig
2022-12-02 01:29:03,541 INFO  [main] common.KylinConfig:118 : Loading kylin-defaults.properties from file:/Users/carolsong/.m2/repository/org/apache/kylin/kylin-core-common/4.0.3-SNAPSHOT/kylin-core-common-4.0.3-SNAPSHOT.jar!/kylin-defaults.properties
2022-12-02 01:29:03,547 WARN  [main] common.KylinConfig:136 : [CTEST][LOAD-PARAM] Loading ctest.properties from file:/Users/carolsong/.m2/repository/org/apache/kylin/kylin-core-common/4.0.3-SNAPSHOT/kylin-core-common-4.0.3-SNAPSHOT.jar!/ctest.properties
2022-12-02 01:29:03,555 INFO  [main] common.KylinConfig:370 : Use KYLIN_CONF=../examples/test_case_data/sandbox
2022-12-02 01:29:03,571 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.metadata.url kylin_metadata@hbase
2022-12-02 01:29:03,665 WARN  [main] common.KylinConfigBase:293 : [CTEST][SET-PARAM]: Kylin Config was updated with kylin.metadata.url.identifier : kylin_metadata
2022-12-02 01:29:03,666 WARN  [main] common.KylinConfigBase:128 : KYLIN_HOME was not set
2022-12-02 01:29:03,667 INFO  [main] common.KylinConfig:370 : Use KYLIN_CONF=../examples/test_case_data/sandbox
2022-12-02 01:29:03,667 INFO  [main] common.KylinConfig:171 : Initialized a new KylinConfig from getInstanceFromEnv : 1923626523
2022-12-02 01:29:03,670 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.env.zookeeper-base-path /kylin
2022-12-02 01:29:03,670 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.metadata.url kylin_metadata@hbase
2022-12-02 01:29:03,671 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.server.cluster-name kylin_metadata
2022-12-02 01:29:03,671 WARN  [main] common.KylinConfigBase:293 : [CTEST][SET-PARAM]: Kylin Config was updated with kylin.server.cluster-name : kylin_metadata
2022-12-02 01:29:03,692 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.env.zookeeper-base-sleep-time 0
2022-12-02 01:29:03,693 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.env.zookeeper-max-retries 3
2022-12-02 01:29:03,696 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.env.zookeeper-is-local true
2022-12-02 01:29:04,704 ERROR [main] util.ZKUtil:132 : Started zk testing server.
2022-12-02 01:29:04,712 WARN  [main] common.KylinConfigBase:195 : [CTEST][GET-PARAM] kylin.env.zookeeper-is-local true
2022-12-02 01:29:04,741 INFO  [main] util.ZKUtil:181 : zookeeper connection string: localhost:12181 with namespace /kylin/kylin_metadata
2022-12-02 01:29:04,918 INFO  [main] imps.CuratorFrameworkImpl:235 : Starting
2022-12-02 01:29:04,988 INFO  [main] util.ZKUtil:185 : new zookeeper Client start: localhost:12181
2022-12-02 01:29:05,174 INFO  [main-EventThread] state.ConnectionStateManager:228 : State change: CONNECTED
2022-12-02 01:29:05,196 INFO  [main] imps.CuratorFrameworkImpl:235 : Starting
2022-12-02 01:29:05,201 INFO  [main-EventThread] state.ConnectionStateManager:228 : State change: CONNECTED
2022-12-02 01:29:05,233 INFO  [Curator-Framework-0] imps.CuratorFrameworkImpl:821 : backgroundOperationsLoop exiting
2022-12-02 01:29:05,270 INFO  [main] zookeeper.ZookeeperDistributedLock:114 : client_1 acquired lock at /test/ZookeeperDistributedLockTest/8900305/test_interrupt_lock
2022-12-02 01:29:06,189 ERROR [main] zookeeper.ZookeeperDistributedLock:121 : client_2 peek owner of lock interrupt while acquire lock at /test/ZookeeperDistributedLockTest/8900305/test_interrupt_lock, check to release lock
2022-12-02 01:29:06,191 WARN  [main] zookeeper.ZookeeperDistributedLock:129 : Exception caught to release lock when lock operation has been interrupted.
java.lang.IllegalStateException: client_2 cannot unlock path /test/ZookeeperDistributedLockTest/8900305/test_interrupt_lock which is locked by client_1
	at org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLock.unlockInternal(ZookeeperDistributedLock.java:286)
	at org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLock.lock(ZookeeperDistributedLock.java:126)
	at org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLock$MockitoMock$295728265.lock$accessor$jl9nOhN1(Unknown Source)
	at org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLock$MockitoMock$295728265$auxiliary$BLxlngU0.call(Unknown Source)
	at org.mockito.internal.creation.bytebuddy.InterceptedInvocation$SuperMethod$FromCallable.invoke(InterceptedInvocation.java:195)
	at org.mockito.internal.creation.bytebuddy.InterceptedInvocation.callRealMethod(InterceptedInvocation.java:131)
	at org.mockito.internal.stubbing.answers.CallsRealMethods.answer(CallsRealMethods.java:43)
	at org.mockito.Answers.answer(Answers.java:100)
	at org.mockito.internal.handler.MockHandlerImpl.handle(MockHandlerImpl.java:97)
	at org.mockito.internal.handler.NullResultGuardian.handle(NullResultGuardian.java:32)
	at org.mockito.internal.handler.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:41)
	at org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptSuperCallable(MockMethodInterceptor.java:102)
	at org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLock$MockitoMock$295728265.lock(Unknown Source)
	at org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLockTest.testTwoClientLockWhenCatchInterruptException(ZookeeperDistributedLockTest.java:162)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)
2022-12-02 01:29:06,201 ERROR [main] zookeeper.ZookeeperDistributedLock:121 : client_1 peek owner of lock interrupt while acquire lock at /test/ZookeeperDistributedLockTest/8900305/test_interrupt_lock, check to release lock
2022-12-02 01:29:06,223 INFO  [main] zookeeper.ZookeeperDistributedLock:289 : client_1 released lock at /test/ZookeeperDistributedLockTest/8900305/test_interrupt_lock
2022-12-02 01:29:06,232 INFO  [main] zookeeper.ZookeeperDistributedLock:296 : 25173@host-147-160.ilcugil.urbana.il.us.clients.pavlovmedia.net purged all locks under /test/ZookeeperDistributedLockTest/8900305
2022-12-02 01:29:06,237 INFO  [main] common.KylinConfig:189 : Destroy KylinConfig
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.725 s - in org.apache.kylin.job.lock.zookeeper.ZookeeperDistributedLockTest
2022-12-02 01:29:06,294 INFO  [Thread-3] util.ZKUtil:79 : Going to remove 1 cached curator clients
2022-12-02 01:29:06,350 INFO  [Thread-3] util.ZKUtil:64 : CuratorFramework for zkString localhost:12181 is removed due to EXPLICIT
2022-12-02 01:29:06,351 INFO  [Curator-Framework-0] imps.CuratorFrameworkImpl:821 : backgroundOperationsLoop exiting
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.2:report (post-test) @ kylin-core-job ---
[INFO] Skipping JaCoCo execution due to missing execution data file.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  13.611 s
[INFO] Finished at: 2022-12-01T19:29:06-06:00
[INFO] ------------------------------------------------------------------------
